<!DOCTYPE html> 
<html>
	<head>

		<meta charset="utf-8">
	    <title>FB_CONNECT</title> 
		

	</head> 
	<body>
		
		<div id="fb-root"></div>
		<script src="phonegap.js"></script> 
		<script src="cdv-plugin-fb-connect.js"></script>
		<script src="facebook-js-sdk.js"></script>
		
	    
	    <script type="text/javascript">

            if ((typeof cordova == 'undefined') && (typeof Cordova == 'undefined')) alert('Cordova variable does not exist. Check that you have included cordova.js correctly');
            if (typeof CDV == 'undefined') alert('CDV variable does not exist. Check that you have included cdv-plugin-fb-connect.js correctly');
            if (typeof FB == 'undefined') alert('FB variable does not exist. Check that you have included the Facebook JS SDK file.');
            

			function connect(){
				
				/*FB.login(function(response) {
				   if (response.authResponse) {
				     document.getElementById('debug').innerHTML = ('Welcome!  Fetching your information.... ');
				     FB.api('/me', function(response) {
				      document.getElementById('debug').innerHTML = ('Good to see you, ' + response.name + '.');
				     });
				   } else {
				    document.getElementById('debug').innerHTML = ('User cancelled login or did not fully authorize.');
				   }
				 });*/

 						FB.login(

	                         function(response) {

	                         	console.log(response)

		                         if (response.session) {
		                         	alert('logged in');
		                         } else {
		                         	alert('not logged in');
		                         }
	                         },
	                         { scope: "email" }
                         );


			}

			function feed(){


			    console.log('Debug 1');

				var params = {

				    method: 'feed',
				    name: 'Facebook Dialogs',
				    link: 'https://developers.facebook.com/docs/reference/dialogs/',
				    picture: 'http://fbrell.com/f8.jpg',
				    caption: 'Reference Documentation',
				    description: 'asdsad Dialogs provide a simple, consistent interface for applications to interface with users.'
				};
				
				console.log(params);
				
			    FB.ui(params, function(obj) { console.log(obj);});
			
			}

			document.addEventListener('deviceready', function() {
                                      try {
                                      alert('Device is ready! Make sure you set your app_id below this alert.');
                                      FB.init({ appId: "1404046476496653", nativeInterface: CDV.FB, useCachedDialogs: false });
                            
                                      } catch (e) {
                                      alert(e);
                                      }
                                      }, false);



		</script>
	   
		<a href="#" onclick="connect()">FB ONNECT</a>
		<a href="#" onclick="feed()">POST</a>
		<div id='debug'></div>
	</body>
</html>